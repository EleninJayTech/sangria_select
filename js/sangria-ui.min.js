"use strict";var SangriaUI={version:"1.0.1",jQueryVersionConfirm:function(a,b,c){var d=$.fn.jquery.split("."),e=!0,f=parseInt(d[0]),g=parseInt(d[1]),h=parseInt(d[2]);return f<a?e=!1:f==a&&1<d.length&&"number"==typeof b&&(g<b?e=!1:g==b&&2<d.length&&"number"==typeof c&&h<c&&(e=!1)),e},jQueryEventCheck:function(){"function"!=typeof $.fn.on&&($.fn.on=$.fn.bind,$.fn.off=$.fn.unbind)},UI_SELECT:{targetSelector:".sangria-select",select_no:0,create:function(a){var b=this;if(0==$(b.targetSelector).length)return!1;var c="select".concat(b.targetSelector);"string"==typeof a&&""!=a&&(c=a),$(c).each(function(){var a=$(this),c=a.attr("data-ss-name");("undefined"==typeof c||""==c)&&(c="s_select_".concat(b.select_no),a.attr("data-ss-name",c),b.select_no++);var d=a.attr("data-ss-id");d="undefined"==typeof d?"":d;var e=a.attr("data-ss-class");e="undefined"==typeof e?"":e;var f=a.attr("data-ss-close-mode"),g="";"click"==f&&(g=" leave_close_off "),e+=g;var h=a.attr("data-ss-arrow-type"),i=" font ";"image"==h&&(i=" image "),e+=i;var j=a.attr("disabled");(!0==j||"disabled"==j)&&(e+=" disabled "),$(".ss_wrap[data-ss-name='".concat(c,"']")).remove();var k=""==d?"":"id=\"".concat(d,"\"");e+="ss_wrap close",e=e.trim(),e=e.replace(/  /gi," ");var l="<ul class=\"ss_option_list\">";a.find("option").each(function(){var a=$(this),b=a.val(),c=a.text();l+="<li data-ss-value=\"".concat(b,"\" title=\"").concat(c,"\">").concat(c,"</li>")}),l+="</ul>";var m="<div ".concat(k," class=\"").concat(e,"\" data-ss-name=\"").concat(c,"\">").concat("<a href=\"#\" class=\"ss_selected_value\" title=\"\"></a>").concat(l,"</div>");a.before(m),b.setSelectText(c),b.itemListShowType(c);var n=$(".ss_wrap[data-ss-name=\"".concat(c,"\"]")),o=n.find(".ss_option_list > li"),p=a.find("option"),q=n.find(".ss_selected_value");!1==n.is(".leave_close_off")&&(n.off("mouseleave"),n.on("mouseleave",function(){b.itemListClose(c)})),o.off("click"),o.on("click",function(a){var d=$(this),e=d.attr("data-ss-value");return b.setSelectProp(c,e),b.setSelectText(c),p.trigger("click"),a.preventDefault(),!1}),q.off("click"),q.on("click",function(d){try{if(!0==j||"disabled"==j)throw"click stop";var e=n.is(".close");!0==e?b.itemListOpen(c):b.itemListClose(c),a.trigger("click")}catch(a){}return d.preventDefault(),!1})})},setSelectText:function(a){var b=$(".ss_wrap[data-ss-name='".concat(a,"']")),c=$("select[data-ss-name='".concat(a,"']")),d=c.find("option:selected"),e=b.find("a.ss_selected_value"),f=d.text();e.text(f).attr("title",f);var g=c.attr("data-ss-arrow-type");if("undefined"==typeof g||"font"==g||""==g){e.append("<i class=\"su-icon icon-su-arrow-down\"></i>")}},setSelectProp:function(a,b){var c=this,d=$("select[data-ss-name='".concat(a,"']"));SangriaUI.jQueryVersionConfirm(1,6)?d.val(b).prop({selected:!0}).attr({selected:!0}):d.find("option[value='".concat(b,"']")).attr("selected","selected"),d.trigger("change"),c.itemListClose(a)},itemListOpen:function(a){var b=$(".ss_wrap[data-ss-name='".concat(a,"']"));b.removeClass("close").addClass("open"),b.find(".su-icon.icon-su-arrow-down").removeClass("icon-su-arrow-down").addClass("icon-su-arrow-up")},itemListClose:function(a){var b=$(".ss_wrap[data-ss-name='".concat(a,"']"));b.removeClass("open").addClass("close"),b.find(".su-icon.icon-su-arrow-up").removeClass("icon-su-arrow-up").addClass("icon-su-arrow-down")},itemListShowType:function(a){var b=$(".ss_wrap[data-ss-name='".concat(a,"']")),c=b.outerHeight(),d=b.find(".ss_option_list").outerHeight(),e=b.find(".ss_selected_value").offset().top,f=$(window).height(),g=$(window).scrollTop();e+c+d>f+g?b.removeClass("list_down").addClass("list_up"):b.removeClass("list_up").addClass("list_down")}}};"function"==typeof jQuery&&jQuery(function(a){SangriaUI.jQueryEventCheck(),SangriaUI.UI_SELECT.create();var b=SangriaUI.UI_SELECT.targetSelector;a(b).each(function(){var b=a(this),c=b.attr("data-ss-name");SangriaUI.UI_SELECT.itemListShowType(c)}),a(window).on("scroll",function(){a(b).each(function(){var b=a(this),c=b.attr("data-ss-name");SangriaUI.UI_SELECT.itemListShowType(c)})}),a(document).on("mouseup",function(b){var c=a(".ss_wrap");0===c.has(b.target).length&&a(".ss_wrap").removeClass("open").addClass("close")})});